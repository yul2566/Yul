<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>영단어 퀴즈</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: auto; }
  button { margin: 5px; padding: 10px 20px; font-size: 16px; }
  #question { font-size: 24px; margin: 20px 0; }
  #answer { margin-top: 10px; font-size: 20px; color: green; }
  #result { margin-top: 10px; font-weight: bold; }
</style>
</head>
<body>
<h1>영단어 퀴즈</h1>

<div>
  <label>난이도: </label>
  <select id="difficulty">
    <option value="easy">Easy (50개)</option>
    <option value="hard">Hard (전체)</option>
  </select>
</div>

<div style="margin-top:10px;">
  <label>문제 유형: </label>
  <select id="mode">
    <option value="word">단어 → 뜻</option>
    <option value="meaning">뜻 → 단어</option>
  </select>
</div>

<button id="startBtn">시작하기</button>

<div id="quizArea" style="display:none;">
  <div id="question"></div>
  <input type="text" id="userAnswer" autocomplete="off" />
  <button id="submitBtn">제출</button>
  <div id="result"></div>
  <button id="nextBtn" style="display:none;">다음 문제</button>
</div>

<script>
// 단어 리스트 (easy 50개 + hard 전체 100개, easy는 hard의 일부)
const easyWords = [
  ["apple", "사과"],
  ["banana", "바나나"],
  ["cat", "고양이"],
  ["dog", "개"],
  ["elephant", "코끼리"],
  ["fish", "물고기"],
  ["grape", "포도"],
  ["house", "집"],
  ["ice", "얼음"],
  ["juice", "주스"],
  ["kite", "연"],
  ["lion", "사자"],
  ["monkey", "원숭이"],
  ["notebook", "공책"],
  ["orange", "오렌지"],
  ["pencil", "연필"],
  ["queen", "여왕"],
  ["rabbit", "토끼"],
  ["sun", "태양"],
  ["tiger", "호랑이"],
  ["umbrella", "우산"],
  ["violin", "바이올린"],
  ["water", "물"],
  ["xylophone", "실로폰"],
  ["yogurt", "요구르트"],
  ["zebra", "얼룩말"],
  ["book", "책"],
  ["car", "자동차"],
  ["door", "문"],
  ["egg", "달걀"],
  ["flag", "깃발"],
  ["garden", "정원"],
  ["hat", "모자"],
  ["island", "섬"],
  ["jacket", "재킷"],
  ["key", "열쇠"],
  ["lamp", "램프"],
  ["mouse", "쥐"],
  ["nose", "코"],
  ["ocean", "대양"],
  ["park", "공원"],
  ["rain", "비"],
  ["star", "별"],
  ["table", "탁자"],
  ["van", "밴"],
  ["window", "창문"],
  ["yard", "마당"],
  ["zipper", "지퍼"]
];

const hardWords = easyWords.concat([
  ["airplane", "비행기"],
  ["bridge", "다리"],
  ["candle", "촛불"],
  ["desk", "책상"],
  ["engine", "엔진"],
  ["forest", "숲"],
  ["grass", "풀"],
  ["hill", "언덕"],
  ["jungle", "정글"],
  ["knife", "칼"],
  ["mountain", "산"],
  ["night", "밤"],
  ["river", "강"],
  ["school", "학교"],
  ["unicorn", "유니콘"],
  ["village", "마을"],
  ["x-ray", "엑스레이"],
  ["yacht", "요트"],
  ["zoo", "동물원"],
  ["angle", "각도"],
  ["baby", "아기"],
  ["dance", "춤"],
  ["fire", "불"],
  ["goat", "염소"],
  ["idea", "아이디어"],
  ["job", "직업"],
  ["log", "통나무"],
  ["nap", "낮잠"],
  ["oak", "참나무"],
  ["paw", "발"],
  ["quill", "깃펜"],
  ["rib", "갈비뼈"],
  ["sap", "수액"],
  ["tap", "꼭지"],
  ["vat", "큰 통"],
  ["wig", "가발"],
  ["zap", "찌르다"]
]);

let wordList = [];
let currentIndex = -1;
let lastIndex = -1;

const startBtn = document.getElementById("startBtn");
const difficultySelect = document.getElementById("difficulty");
const modeSelect = document.getElementById("mode");
const quizArea = document.getElementById("quizArea");
const questionDiv = document.getElementById("question");
const userAnswerInput = document.getElementById("userAnswer");
const submitBtn = document.getElementById("submitBtn");
const resultDiv = document.getElementById("result");
const nextBtn = document.getElementById("nextBtn");

// 랜덤 인덱스 생성, 직전 인덱스와 중복 안되게
function getRandomIndex() {
  if(wordList.length <= 1) return 0; // 단어가 1개 이하일 때
  let idx;
  do {
    idx = Math.floor(Math.random() * wordList.length);
  } while(idx === lastIndex);
  lastIndex = idx;
  return idx;
}

function startQuiz() {
  const difficulty = difficultySelect.value;
  wordList = difficulty === "easy" ? easyWords : hardWords;

  currentIndex = getRandomIndex();

  quizArea.style.display = "block";
  startBtn.style.display = "none";
  resultDiv.textContent = "";
  nextBtn.style.display = "none";
  userAnswerInput.value = "";
  userAnswerInput.focus();

  showQuestion();
}

function showQuestion() {
  const mode = modeSelect.value;
  const [word, meaning] = wordList[currentIndex];
  if(mode === "word") {
    questionDiv.textContent = `영단어 뜻은? : ${word}`;
  } else {
    questionDiv.textContent = `뜻에 맞는 영단어는? : ${meaning}`;
  }
  resultDiv.textContent = "";
  userAnswerInput.value = "";
  userAnswerInput.focus();
  submitBtn.style.display = "inline-block";
  nextBtn.style.display = "none";
}

function checkAnswer() {
  const mode = modeSelect.value;
  const userAnswer = userAnswerInput.value.trim().toLowerCase();
  const [word, meaning] = wordList[currentIndex];

  let correct;
  if(mode === "word") {
    correct = (userAnswer === meaning.toLowerCase());
  } else {
    correct = (userAnswer === word.toLowerCase());
  }

  if(correct) {
    resultDiv.style.color = "green";
    resultDiv.textContent = "정답입니다!";
  } else {
    resultDiv.style.color = "red";
    if(mode === "word") {
      resultDiv.textContent = `틀렸습니다. 정답: ${meaning}`;
    } else {
      resultDiv.textContent = `틀렸습니다. 정답: ${word}`;
    }
  }
  submitBtn.style.display = "none";
  nextBtn.style.display = "inline-block";
}

function nextQuestion() {
  currentIndex = getRandomIndex();
  showQuestion();
}

startBtn.addEventListener("click", startQuiz);
submitBtn.addEventListener("click", checkAnswer);
nextBtn.addEventListener("click", nextQuestion);
userAnswerInput.addEventListener("keydown", (e) => {
  if(e.key === "Enter") {
    if(submitBtn.style.display !== "none") {
      checkAnswer();
    } else if(nextBtn.style.display !== "none") {
      nextQuestion();
    }
  }
});
</script>

</body>
</html>
